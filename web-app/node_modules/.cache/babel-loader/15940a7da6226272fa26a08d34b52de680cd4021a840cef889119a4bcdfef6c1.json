{"ast":null,"code":"var _jsxFileName = \"/Users/alexysgromard/development/naoLibre/web-app/src/sections/AverageAttendance/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport SectionTitle from \"../../components/SectionTitle\";\nimport Chart from 'chart.js/auto'; // Importer la bibliothèque Chart.js\n\n/**\n * AverageAttendance component\n * Represents the Average Attendance section with the average attendance of the public transport network in a chart.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AverageAttendance() {\n  _s();\n  const chartRef = useRef(null);\n  useEffect(() => {\n    const ctx = document.getElementById('average-attendance-chart');\n    if (ctx) {\n      if (chartRef.current !== null) {\n        chartRef.current.destroy(); // Détruire le graphique existant s'il y en a un\n      }\n      chartRef.current = new Chart(ctx, {\n        type: 'bar',\n        data: {\n          labels: ['12', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11'],\n          datasets: [{\n            data: [12, 10, 3, 2, 3, 4, 35, 60, 80, 70, 35, 30, 65, 50, 20, 10, 65, 85, 80],\n            backgroundColor: function (context) {\n              // Rendre la dernière barre verte\n              return context.dataIndex === context.dataset.data.length - 1 ? '#84CF39' : '#3A6F97';\n            }\n          }]\n        },\n        options: {\n          maintainAspectRatio: false,\n          scales: {\n            y: {\n              beginAtZero: true,\n              max: 100,\n              ticks: {\n                // Set no data, not many, moderate, full\n                stepSize: 35,\n                callback: function (value, index, values) {\n                  // Définir les étiquettes manuellement\n                  return ['no data', 'not many', 'moderate', 'full'][index];\n                },\n                maxRotation: 90,\n                minRotation: 90 // Rotation minimale du texte à 90 degrés\n              }\n            }\n          },\n          plugins: {\n            legend: {\n              display: false\n            }\n          }\n        }\n      });\n    }\n    return () => {\n      if (chartRef.current !== null) {\n        chartRef.current.destroy(); // Nettoyer le graphique lors de la suppression du composant\n      }\n    };\n  }, []); // Effect se déclenche seulement lors du premier rendu\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"average-attendance\",\n    children: [/*#__PURE__*/_jsxDEV(SectionTitle, {\n      title: \"Average attendance\",\n      subtitle: \"Since 24 hours and on all lines\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"average-attendance-chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n_s(AverageAttendance, \"X+1SfQQ6xefXNU27aQW843M7cTw=\");\n_c = AverageAttendance;\nexport default AverageAttendance;\nvar _c;\n$RefreshReg$(_c, \"AverageAttendance\");","map":{"version":3,"names":["React","useEffect","useRef","SectionTitle","Chart","jsxDEV","_jsxDEV","AverageAttendance","_s","chartRef","ctx","document","getElementById","current","destroy","type","data","labels","datasets","backgroundColor","context","dataIndex","dataset","length","options","maintainAspectRatio","scales","y","beginAtZero","max","ticks","stepSize","callback","value","index","values","maxRotation","minRotation","plugins","legend","display","id","children","title","subtitle","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/alexysgromard/development/naoLibre/web-app/src/sections/AverageAttendance/index.jsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport SectionTitle from \"../../components/SectionTitle\";\nimport Chart from 'chart.js/auto'; // Importer la bibliothèque Chart.js\n\n/**\n * AverageAttendance component\n * Represents the Average Attendance section with the average attendance of the public transport network in a chart.\n */\nfunction AverageAttendance(){\n    const chartRef = useRef(null);\n\n    useEffect(() => {\n        const ctx = document.getElementById('average-attendance-chart');\n\n        if (ctx) {\n            if (chartRef.current !== null) {\n                chartRef.current.destroy(); // Détruire le graphique existant s'il y en a un\n            }\n\n            chartRef.current = new Chart(ctx, {\n                type: 'bar',\n                data: {\n                    labels: ['12', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11'],\n                    datasets: [{\n                        data: [12, 10, 3, 2, 3, 4,35,60, 80, 70, 35, 30, 65, 50, 20, 10, 65, 85, 80],\n                        backgroundColor: function(context) {\n                            // Rendre la dernière barre verte\n                            return context.dataIndex === context.dataset.data.length - 1 ? '#84CF39' : '#3A6F97';\n                        }\n                    }]\n                },\n                options: {\n                    maintainAspectRatio: false,\n                    scales: {\n                        y: {\n                            beginAtZero: true,\n                            max: 100,\n                            ticks: {\n                                // Set no data, not many, moderate, full\n                                stepSize: 35,\n                                callback: function(value, index, values) {\n                                    // Définir les étiquettes manuellement\n                                    return ['no data', 'not many', 'moderate', 'full'][index];\n                                },\n                                maxRotation: 90,\n                                minRotation: 90 // Rotation minimale du texte à 90 degrés\n                            }\n                        }\n                    },\n                    plugins: {\n                        legend: {\n                            display: false\n                        }\n                    }\n                }\n            });\n        }\n\n        return () => {\n            if (chartRef.current !== null) {\n                chartRef.current.destroy(); // Nettoyer le graphique lors de la suppression du composant\n            }\n        };\n    }, []); // Effect se déclenche seulement lors du premier rendu\n\n    return (\n        <section id=\"average-attendance\">\n            <SectionTitle title=\"Average attendance\" subtitle=\"Since 24 hours and on all lines\"/>\n            <canvas id=\"average-attendance-chart\"></canvas>\n        </section>\n    );\n}\n\nexport default AverageAttendance;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}